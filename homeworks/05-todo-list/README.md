# To-do Lists
Целта на упражнението е да се имплементират класове, които да репрезентират 
to-do списъци.

## Формат
Форматът на един to-do списък като текстов низ е следният:
```
TODO    | Do OOP homework              | Low    | school, programming
TODO    | Get 8 hours of sleep.        | Low    | health
DOING   | Party hard.                  | Normal | social
DONE    | Netflix and chill.           | Normal | tv shows
TODO    | Find missing socks.          | Low    | meh
```
Всяка задача в to-do списъка има статус, описание, приоритет и тагове. Те са 
разделени със символа `|`, а таговете, когато са повече от един, са разделени 
със запетайка.

Статусите са дефинирани в изброимия тип `Status`, а приоритетите - в `Priority`.

## TodoList
Вашият списък трябва да имплементира интерфейсът `TodoList`. Инстанции на класа 
се създават чрез статичния метод `TodoList.parse(String)`, като форматът на 
подадения `String` съответства на този, дефиниран по-горе.

### TodoList::getTasks
Връща списък от задачи (`List<Task>`), като `Task` отново е интерфейс, който 
трябва да имплементирате. Има 4 метода, представляващи 4-те му характеристики.

### TodoList::isCompleted
Връща булева стойност - `true` ако всички задачи в списъка са със статус DONE.

### TodoList::percentageCompleted
Връща `Double`, който представлява какъв процент от задачите са със статус DONE. 
Резултатът трябва да е закръглен до втората цифра след десетичната запетая.

### TodoList::filter(Criteria)
Връща ***нова*** инстанция на to-do списъка, филтриран по заданения критерий 
чрез обекта `Criteria`. Описание на `Criteria` следва по-долу.

### TodoList::join(TodoList)
Обединява 2 списъка, като премахва повтарящите се задачи. 
***Не*** променя текущата инстанция, а връща ***нова***. 

## Criteria
`Criteria` представлява интерфейс, дефиниращ 3 статични метода и 3 нестатични. 
Чрез статичните методи се създават нови инстанции на обекти имплементиращи интерфейса:

```java
Criteria.status(Status.TODO);                   // Критерий за статус.
Criteria.priority(Priority.NORMAL);             // Критерий за приоритет.
Criteria.tags(new String[] {"food", "school"}); // Критерий за етикети.
```
Инстанциите на Criteria трябва да имат методи `and`, `or` и `not`, които да 
позволяват критериите да се групират. Например:

```java
Criteria.tags(new String[] { "OOP" }).or(Criteria.priority(Priority.LOW));
```
ще върне критерия за задачи, които са с таг `OOP` или с приоритет `LOW`.

Както вече споменахме, `TodoList.filter(Criteria)` приема като аргумент 
инстанция на `Criteria`, като връща нов подсписък на този, върху който е 
извикан методът. Например:

```java
todoList.filter(Criteria.priority(Priority.HIGH));
```
ще върне нов подсписък, съдържащ само задачите с висок приоритет.

Критериите могат да се обединяват:

```java
todoList.filter(Criteria.priority(Priority.HIGH)
    .and(Criteria.tags(new String[] { "school" }).not());
```

Това ще върне нов подсписък от задачи с висок приоритет и тагове, сред които 
няма `"school"`.

Подсписъците могат да се обединяват с метода `TodoList.join(TodoList)`. 
Следващите два реда трябва да връщат еквивалентен резултат:

```java
todoList.filter(Criteria.tags(new String[] { "school" }).or(Criteria.priority(Priority.HIGH));
todoList.filter(Criteria.tags(new String[] { "school" })).join(todoList.filter(Criteria.priority(Priority.HIGH)));
```
## Бележки
1. В `TodoList` трябва да промените (да имплементирате) единствено статичния 
метод `parse`. Останалите методи трябва да имплементирате във вашия клас, 
който ще наследява (имплементира) `TodoList`.

2. Редът на задачите трябва да бъде същият като този в подадения като аргумент 
на `parse` низ.

3. Подсписъците и списъците могат да бъдат от различен тип, стига да 
имплементират интерфейса `TodoList`.

4. `filter` и `join` не променят стария обект, а връщат нов.

5. Елементите в `TodoList` трябва да имплементират интерфейса `Task`.

6. В `Criteria` трябва да промените (да имплементирате) статичните 
методи `status`, `priority` и `tags`. Те връщат обекти, които наследяват 
(имплементират) `Criteria`. Не важно какви обекти връщат трите метода 
(може да бъде един и същ, или пък три различни), важното е обектите да 
имплементират `Criteria`.

7. Нестатичните методи, дефинирани в `Criteria`, могат да връщат също различни 
типове обекти по ваша преценка, отново с единственото условие да 
имплементират `Criteria`.

8. Във вашия клас `Task` имплементирайте `hashCode` и `equals`. Може да ви 
потрябват, когато обединявате списъци с `join`.

9. Когато не знаете откъде да започнете, започнете откъдето и да е. Решението 
накрая винаги ще излезе - стига изобщо да се захванете с проблема.

10. Питайте. :-)

## Оценяване

   *   `TodoList::parse` и методите `TodoList::getTasks`, `TodoList::isCompleted` 
        и `TodoList::percentageCompleted` работят коректно - 1 т.
   *   `TodoList::filter` работи коректно с критерии за статус или приоритет - 1 т.
   *   `TodoList::filter` работи коректно с критерий за таг - 1 т.
   *   `Criteria::not` работи коректно - 1 т.
   *   `Criteria:and` и `Criteria::or` работят коректно - 1 т.
   *   Качество на кода - 1 т.

## Срок

Крайният срок за предаване на домашното в мудъл е 17.05.2018 12:00. За да 
предадете домашното, използвайте функцията в Eclipse за експорт като архив (.zip).

